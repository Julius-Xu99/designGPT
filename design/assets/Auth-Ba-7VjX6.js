var G=(a,t,e)=>new Promise((r,n)=>{var z=f=>{try{_(e.next(f))}catch(m){n(m)}},x=f=>{try{_(e.throw(f))}catch(m){n(m)}},_=f=>f.done?r(f.value):Promise.resolve(f.value).then(z,x);_((e=e.apply(a,t)).next())});import{e as s,a7 as E,d as re,r as v,k as ne,c as le,U as O,W as i,F as se,a0 as oe,_ as d,a8 as w,a9 as ue,a4 as g,aa as W,a1 as P,B as C,N as X,a5 as ie,V as h,a6 as ce}from"./index-CgMZrD1p.js";var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function Y(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){de(a,n,e[n])})}return a}function de(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var A=function(t,e){var r=Y({},t,e.attrs);return s(E,Y({},r,{icon:ve}),null)};A.displayName="LockOutlined";A.inheritAttrs=!1;var fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function q(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){me(a,n,e[n])})}return a}function me(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var I=function(t,e){var r=q({},t,e.attrs);return s(E,q({},r,{icon:fe}),null)};I.displayName="MailOutlined";I.inheritAttrs=!1;var pe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"};function J(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){ge(a,n,e[n])})}return a}function ge(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var H=function(t,e){var r=J({},t,e.attrs);return s(E,J({},r,{icon:pe}),null)};H.displayName="SafetyOutlined";H.inheritAttrs=!1;var he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};function Q(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){_e(a,n,e[n])})}return a}function _e(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var T=function(t,e){var r=Q({},t,e.attrs);return s(E,Q({},r,{icon:he}),null)};T.displayName="UserOutlined";T.inheritAttrs=!1;const be={class:"auth-container"},ye={class:"auth-background"},Oe={class:"particles-container"},we={class:"auth-content"},Pe={class:"card-header"},Se={class:"card-title"},Me={class:"card-subtitle"},$e={key:0,class:"error-message"},ze={key:0,class:"error-message"},xe={key:0,class:"error-message"},Ve={key:0,class:"error-message"},je={class:"form-footer"},ke={class:"auth-switch"},Le={key:0,class:"form-error"},Ce=re({__name:"Auth",setup(a){const t=ie(),e=v(!0),r=v(""),n=v(""),z=v(""),x=v(""),_=v(!1),f=v(!1),m=v(""),S=v(""),M=v(""),$=v(""),b=v(""),u=v(!1),o=ne({username:r,password:n,confirmPassword:z,email:x}),V=()=>o.username?o.username.length<3?(m.value=u.value?"账户不能少于3个字符":"",!1):(m.value="",!0):(m.value=u.value?"账户不能为空":"",!1),j=()=>o.password?o.password.length<6?(S.value=u.value?"密码不能少于6个字符":"",!1):(S.value="",!0):(S.value=u.value?"密码不能为空":"",!1),U=()=>o.confirmPassword?o.confirmPassword!==o.password?(M.value=u.value?"两次输入的密码不一致":"",!1):(M.value="",!0):(M.value=u.value?"请确认密码":"",!1),B=()=>{if(!o.email&&!e.value)return $.value=u.value?"邮箱不能为空":"",!1;const p=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!e.value&&!p.test(o.email)?($.value=u.value?"请输入有效的邮箱地址":"",!1):($.value="",!0)},F=le(()=>e.value?V()&&j():V()&&j()&&U()&&B()),R=p=>{_.value=p},Z=()=>{e.value=!e.value,b.value="",n.value="",z.value="",m.value="",S.value="",M.value="",$.value="",u.value=!1},K=()=>G(this,null,function*(){if(b.value="",u.value=!0,V(),j(),e.value||(U(),B()),!F.value){b.value="请正确填写所有必填项";return}try{f.value=!0,yield new Promise(p=>setTimeout(p,1e3)),e.value?(console.log("用户登录:",{username:r.value,password:n.value}),t.push("/")):(console.log("用户注册:",{username:r.value,password:n.value,email:x.value}),e.value=!0,n.value="",b.value="注册成功，请登录")}catch(p){console.error("登录/注册失败:",p),b.value=e.value?"登录失败，请检查用户名和密码":"注册失败，请稍后再试"}finally{f.value=!1}}),ee=p=>{const l=Math.floor(Math.random()*20)+10,k=Math.random()*100,y=Math.random()*100,L=Math.floor(Math.random()*20)+10,D=Math.random()*5,N=Math.random()*.5+.1;return{width:`${l}px`,height:`${l}px`,left:`${k}%`,top:`${y}%`,animationDuration:`${L}s`,animationDelay:`${D}s`,opacity:N}};return(p,l)=>{const k=w("a-input"),y=w("a-form-item"),L=w("a-input-password"),D=w("a-button"),N=w("a-alert"),te=w("a-form"),ae=w("a-card");return h(),O("div",be,[i("div",ye,[i("div",Oe,[(h(),O(se,null,oe(20,c=>i("div",{key:c,class:"particle",style:ue(ee())},null,4)),64))])]),i("div",we,[s(ae,{class:"auth-card",bordered:!1},{default:d(()=>[i("div",Pe,[l[8]||(l[8]=i("div",{class:"logo-container"},[i("div",{class:"logo-icon"},"🎨"),i("div",{class:"logo-text"},"ClothesGPT")],-1)),i("h1",Se,g(e.value?"欢迎回来":"创建账号"),1),i("p",Me,g(e.value?"登录您的账号以继续":"填写以下信息创建您的账号"),1)]),s(te,{model:o,class:"login-form",onFinish:K},{default:d(()=>[s(y,null,{default:d(()=>[s(k,{value:o.username,"onUpdate:value":l[0]||(l[0]=c=>o.username=c),placeholder:"账户",size:"large",onInput:l[1]||(l[1]=c=>u.value&&V)},{prefix:d(()=>[s(C(T),{class:"site-form-item-icon"})]),_:1},8,["value"]),m.value?(h(),O("div",$e,g(m.value),1)):P("",!0)]),_:1}),s(y,null,{default:d(()=>[s(L,{value:o.password,"onUpdate:value":l[2]||(l[2]=c=>o.password=c),placeholder:"密码",size:"large",onInput:l[3]||(l[3]=c=>u.value&&j),visibilityToggle:!0,visible:_.value,onVisibilityChange:R},{prefix:d(()=>[s(C(A),{class:"site-form-item-icon"})]),_:1},8,["value","visible"]),S.value?(h(),O("div",ze,g(S.value),1)):P("",!0)]),_:1}),e.value?P("",!0):(h(),W(y,{key:0},{default:d(()=>[s(L,{value:o.confirmPassword,"onUpdate:value":l[4]||(l[4]=c=>o.confirmPassword=c),placeholder:"确认密码",size:"large",onInput:l[5]||(l[5]=c=>u.value&&U),visibilityToggle:!0,visible:_.value,onVisibilityChange:R},{prefix:d(()=>[s(C(H),{class:"site-form-item-icon"})]),_:1},8,["value","visible"]),M.value?(h(),O("div",xe,g(M.value),1)):P("",!0)]),_:1})),e.value?P("",!0):(h(),W(y,{key:1},{default:d(()=>[s(k,{value:o.email,"onUpdate:value":l[6]||(l[6]=c=>o.email=c),placeholder:"邮箱地址",size:"large",onInput:l[7]||(l[7]=c=>u.value&&B)},{prefix:d(()=>[s(C(I),{class:"site-form-item-icon"})]),_:1},8,["value"]),$.value?(h(),O("div",Ve,g($.value),1)):P("",!0)]),_:1})),s(y,null,{default:d(()=>[s(D,{type:"primary","html-type":"submit",class:"login-form-button",disabled:!F.value,size:"large",loading:f.value},{default:d(()=>[X(g(e.value?"登录":"注册"),1)]),_:1},8,["disabled","loading"])]),_:1}),i("div",je,[i("div",ke,[X(g(e.value?"还没有账号？":"已有账号？")+" ",1),i("a",{class:"switch-link",onClick:Z},g(e.value?"立即注册":"去登录"),1)]),b.value?(h(),O("div",Le,[s(N,{message:b.value,type:"error","show-icon":""},null,8,["message"])])):P("",!0)])]),_:1},8,["model"])]),_:1})]),l[9]||(l[9]=i("div",{class:"auth-footer"},null,-1))])}}}),Be=ce(Ce,[["__scopeId","data-v-33396ad0"]]);export{Be as default};
