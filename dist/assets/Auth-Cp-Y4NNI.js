import{e as s,a7 as j,d as ae,r as v,k as re,c as ne,U as _,W as i,F as le,a0 as se,_ as d,a8 as b,a9 as oe,a4 as m,aa as G,a1 as y,B as V,N as W,a5 as ue,V as p,a6 as ie}from"./index-COeEsTmb.js";var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function X(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){ve(a,n,e[n])})}return a}function ve(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var D=function(t,e){var r=X({},t,e.attrs);return s(j,X({},r,{icon:ce}),null)};D.displayName="LockOutlined";D.inheritAttrs=!1;var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function Y(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){fe(a,n,e[n])})}return a}function fe(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var N=function(t,e){var r=Y({},t,e.attrs);return s(j,Y({},r,{icon:de}),null)};N.displayName="MailOutlined";N.inheritAttrs=!1;var me={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"};function q(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){pe(a,n,e[n])})}return a}function pe(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var A=function(t,e){var r=q({},t,e.attrs);return s(j,q({},r,{icon:me}),null)};A.displayName="SafetyOutlined";A.inheritAttrs=!1;var ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};function J(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){he(a,n,e[n])})}return a}function he(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var I=function(t,e){var r=J({},t,e.attrs);return s(j,J({},r,{icon:ge}),null)};I.displayName="UserOutlined";I.inheritAttrs=!1;const _e={class:"auth-container"},be={class:"auth-background"},ye={class:"particles-container"},Oe={class:"auth-content"},we={class:"card-header"},Pe={class:"card-title"},Se={class:"card-subtitle"},Me={key:0,class:"error-message"},$e={key:0,class:"error-message"},ze={key:0,class:"error-message"},xe={key:0,class:"error-message"},Ve={class:"form-footer"},je={class:"auth-switch"},ke={key:0,class:"form-error"},Le=ae({__name:"Auth",setup(a){const t=ue(),e=v(!0),r=v(""),n=v(""),H=v(""),T=v(""),k=v(!1),L=v(!1),O=v(""),w=v(""),P=v(""),S=v(""),g=v(""),u=v(!1),o=re({username:r,password:n,confirmPassword:H,email:T}),M=()=>o.username?o.username.length<3?(O.value=u.value?"账户不能少于3个字符":"",!1):(O.value="",!0):(O.value=u.value?"账户不能为空":"",!1),$=()=>o.password?o.password.length<6?(w.value=u.value?"密码不能少于6个字符":"",!1):(w.value="",!0):(w.value=u.value?"密码不能为空":"",!1),C=()=>o.confirmPassword?o.confirmPassword!==o.password?(P.value=u.value?"两次输入的密码不一致":"",!1):(P.value="",!0):(P.value=u.value?"请确认密码":"",!1),E=()=>{if(!o.email&&!e.value)return S.value=u.value?"邮箱不能为空":"",!1;const f=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!e.value&&!f.test(o.email)?(S.value=u.value?"请输入有效的邮箱地址":"",!1):(S.value="",!0)},F=ne(()=>e.value?M()&&$():M()&&$()&&C()&&E()),R=f=>{k.value=f},Q=()=>{e.value=!e.value,g.value="",n.value="",H.value="",O.value="",w.value="",P.value="",S.value="",u.value=!1},Z=async()=>{if(g.value="",u.value=!0,M(),$(),e.value||(C(),E()),!F.value){g.value="请正确填写所有必填项";return}try{L.value=!0,await new Promise(f=>setTimeout(f,1e3)),e.value?(console.log("用户登录:",{username:r.value,password:n.value}),t.push("/")):(console.log("用户注册:",{username:r.value,password:n.value,email:T.value}),e.value=!0,n.value="",g.value="注册成功，请登录")}catch(f){console.error("登录/注册失败:",f),g.value=e.value?"登录失败，请检查用户名和密码":"注册失败，请稍后再试"}finally{L.value=!1}},K=f=>{const l=Math.floor(Math.random()*20)+10,z=Math.random()*100,h=Math.random()*100,x=Math.floor(Math.random()*20)+10,U=Math.random()*5,B=Math.random()*.5+.1;return{width:`${l}px`,height:`${l}px`,left:`${z}%`,top:`${h}%`,animationDuration:`${x}s`,animationDelay:`${U}s`,opacity:B}};return(f,l)=>{const z=b("a-input"),h=b("a-form-item"),x=b("a-input-password"),U=b("a-button"),B=b("a-alert"),ee=b("a-form"),te=b("a-card");return p(),_("div",_e,[i("div",be,[i("div",ye,[(p(),_(le,null,se(20,c=>i("div",{key:c,class:"particle",style:oe(K())},null,4)),64))])]),i("div",Oe,[s(te,{class:"auth-card",bordered:!1},{default:d(()=>[i("div",we,[l[8]||(l[8]=i("div",{class:"logo-container"},[i("div",{class:"logo-icon"},"🎨"),i("div",{class:"logo-text"},"ClothesGPT")],-1)),i("h1",Pe,m(e.value?"欢迎回来":"创建账号"),1),i("p",Se,m(e.value?"登录您的账号以继续":"填写以下信息创建您的账号"),1)]),s(ee,{model:o,class:"login-form",onFinish:Z},{default:d(()=>[s(h,null,{default:d(()=>[s(z,{value:o.username,"onUpdate:value":l[0]||(l[0]=c=>o.username=c),placeholder:"账户",size:"large",onInput:l[1]||(l[1]=c=>u.value&&M)},{prefix:d(()=>[s(V(I),{class:"site-form-item-icon"})]),_:1},8,["value"]),O.value?(p(),_("div",Me,m(O.value),1)):y("",!0)]),_:1}),s(h,null,{default:d(()=>[s(x,{value:o.password,"onUpdate:value":l[2]||(l[2]=c=>o.password=c),placeholder:"密码",size:"large",onInput:l[3]||(l[3]=c=>u.value&&$),visibilityToggle:!0,visible:k.value,onVisibilityChange:R},{prefix:d(()=>[s(V(D),{class:"site-form-item-icon"})]),_:1},8,["value","visible"]),w.value?(p(),_("div",$e,m(w.value),1)):y("",!0)]),_:1}),e.value?y("",!0):(p(),G(h,{key:0},{default:d(()=>[s(x,{value:o.confirmPassword,"onUpdate:value":l[4]||(l[4]=c=>o.confirmPassword=c),placeholder:"确认密码",size:"large",onInput:l[5]||(l[5]=c=>u.value&&C),visibilityToggle:!0,visible:k.value,onVisibilityChange:R},{prefix:d(()=>[s(V(A),{class:"site-form-item-icon"})]),_:1},8,["value","visible"]),P.value?(p(),_("div",ze,m(P.value),1)):y("",!0)]),_:1})),e.value?y("",!0):(p(),G(h,{key:1},{default:d(()=>[s(z,{value:o.email,"onUpdate:value":l[6]||(l[6]=c=>o.email=c),placeholder:"邮箱地址",size:"large",onInput:l[7]||(l[7]=c=>u.value&&E)},{prefix:d(()=>[s(V(N),{class:"site-form-item-icon"})]),_:1},8,["value"]),S.value?(p(),_("div",xe,m(S.value),1)):y("",!0)]),_:1})),s(h,null,{default:d(()=>[s(U,{type:"primary","html-type":"submit",class:"login-form-button",disabled:!F.value,size:"large",loading:L.value},{default:d(()=>[W(m(e.value?"登录":"注册"),1)]),_:1},8,["disabled","loading"])]),_:1}),i("div",Ve,[i("div",je,[W(m(e.value?"还没有账号？":"已有账号？")+" ",1),i("a",{class:"switch-link",onClick:Q},m(e.value?"立即注册":"去登录"),1)]),g.value?(p(),_("div",ke,[s(B,{message:g.value,type:"error","show-icon":""},null,8,["message"])])):y("",!0)])]),_:1},8,["model"])]),_:1})]),l[9]||(l[9]=i("div",{class:"auth-footer"},null,-1))])}}}),Ee=ie(Le,[["__scopeId","data-v-33396ad0"]]);export{Ee as default};
